---
title: Testing Opal Integration
layout: page
nav_exclude: true
---

<div>
<textarea id="code" cols="100" rows="20" style="font-family: monospace;">
SAMPLING_FREQUENCY=44100

FREQUENCY=440

in_cycle = 0
samples = (0.5 * SAMPLING_FREQUENCY).times.map do
  period = SAMPLING_FREQUENCY / FREQUENCY.to_f
  output = in_cycle > 0.5 ? -1.0 : 1.0
  in_cycle = (in_cycle + (1.0 / period)) % 1.0
  output
end
samples
</textarea>
</div>
<div>
  <canvas id="canvas" width="1200" height="200" style="border: 1px solid black;"></canvas>
</div>


<button id="run-button">RUN</button>

<script type="text/javascript" src="/js/opal.js"></script>
<script type="text/javascript" src="/js/live_ruby.js"></script>